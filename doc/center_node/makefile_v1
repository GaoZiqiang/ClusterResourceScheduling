all:server

# 链接--不需要split_str.h
server:mysql_config.o mysql_tools.o server.o
	g++ -o server mysql_config.o mysql_tools.o server.o -lpthread -lmysqlclient

# 编译
mysql_config.o:mysql_config.cpp mysql_config.h
	g++ -c -o mysql_config.o mysql_config.cpp

mysql_tools.o:mysql_tools.cpp mysql_tools.h mysql_config.h
	g++ -c -o mysql_tools.o mysql_tools.cpp

# 编译server.o--需要split_str.h
server.o:web_serv.cpp mysql_tools.h split_str.h
	g++ -c -o server.o web_serv.cpp

clean:
	rm -rf server

